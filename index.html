<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
          周伟伦 | Blog
        
    </title>

    <link rel="canonical" href="http://&lt;www class=&quot;WeilunZhou&quot;&gt;  &lt;/www&gt;.com/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="/css/beantech.min.css">

    <link rel="stylesheet" href="/css/donate.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <link rel="stylesheet" href="/css/widget.css">

    <link rel="stylesheet" href="/css/rocket.css">

    <link rel="stylesheet" href="/css/signature.css">

    <link rel="stylesheet" href="/css/toc.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            background-image: url('/img/header_img/home.jpg') 
            /*config*/
        
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="site-heading">
                        <h1>WeilunZhou</h1>
                        <!--<hr class="small">-->
                        <span class="subheading">个人博客</span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">WeilunZhou</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Main Content -->
<div class="container">
    <div class="row">
        

<!-- USE SIDEBAR -->
    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-1
                col-md-8 col-md-offset-1
                col-sm-12
                col-xs-12
                post-container
            ">
            
                <!-- Main Content -->


<div class="post-preview">

    <a href="/article/kafka-problem/">
        <h2 class="post-title">
                                 
            记一次kafka故障
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            故障描述

Kafka节点9092端口健康监测突然red，并且反复重启无效。

问题分析

该kafka集群，由若干个用户同时直接进行数据写入，导致client数目非常巨大，tcp connection数量一直维持high level (60k - 70k) ；
大并发量下，open file（文件句柄）过多，导致节点刚起来的时候直接打爆ulimit默认限制。

解决方案
方案1：iptab......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2020-10-08
        </p>
        <div class="tags">
            
              <a href="/tags/#kafka" title="kafka">kafka</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/Prometheus/">
        <h2 class="post-title">
                                 
            PromQL实现一些复杂函数功能
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            graphite functions in PromQL
highestMax, mostDeviant这种需要多步骤过滤的方法在PromQL中的一个基本思路是


展示需要的数据
and on ( tag )
过滤条件



vector1 and vector2 results in a vector consisting of the elements of vector1 for w......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-10-10
        </p>
        <div class="tags">
            
              <a href="/tags/#Prometheus" title="Prometheus">Prometheus</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/systemd/">
        <h2 class="post-title">
                                 
            Systemd使用技巧
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            systemd
systemd的一些简单使用技巧
基本命令
systemctl 命令:
123456systemctl status &lt;service_name&gt;         # 检查服务的状态systemctl start &lt;service_name&gt;          # 启动服务systemctl stop &lt;service_name&gt;     ......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-10-09
        </p>
        <div class="tags">
            
              <a href="/tags/#Linux" title="Linux">Linux</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/Linux-websites/">
        <h2 class="post-title">
                                 
            一些有趣的Linux网站
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            一些有趣的Linux网站

awesome-linux列表 - github 上 awesome-linux 列表，里边各种linux相关的网站
free-programming-books - 很多开发相关的免费书籍
bootlin.com - linux 内核相关

elixir.bootlin.com - linux kernal 源码浏览


distrowatch.com - li......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-10-07
        </p>
        <div class="tags">
            
              <a href="/tags/#Linux" title="Linux">Linux</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/Docker_commands/">
        <h2 class="post-title">
                                 
            Docker命令快速入门
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            Docker环境安装

centos安装docker

1yum install docker

启动Docker

1systemctl start docker
Docker镜像常用命令
下载镜像
1docker pull alpine:3.8
列出镜像
1docker images
删除镜像

指定名称删除镜像

1docker rmi alpine:3.8

指定名称删除镜像（强制）......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-10-05
        </p>
        <div class="tags">
            
              <a href="/tags/#Docker" title="Docker">Docker</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/ansible/">
        <h2 class="post-title">
                                 
            一些有趣的Linux网站
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            Ansible快速入门


 Ansible官方文档


Ansible中文指南


以下内容以kafka,zk部署为例
1.Inventory文件
Ansible 可同时操作属于一个组的多台主机,组和主机之间的关系通过 inventory 文件配置. 默认的文件路径为 /etc/ansible/hosts
除了默认文件外，还可以同时使用多个inventory文件。
123456789101......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-10-03
        </p>
        <div class="tags">
            
              <a href="/tags/#ansible" title="ansible">ansible</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/IDEA_annotation_template/">
        <h2 class="post-title">
                                 
            IDEA注释模板
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            IDEA类和方法注释模板的配置
参考博客： https://blog.csdn.net/qq_34581118/article/details/78409782
1.生成类注释

打开Preferences
Editor -&gt; File and Code Templates -&gt; Files -&gt; Class



生成注解类模板

123456789/*** @progr......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-09-21
        </p>
        <div class="tags">
            
              <a href="/tags/#IDEA" title="IDEA">IDEA</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/hexo+github/">
        <h2 class="post-title">
                                 
            hexo&github搭建博客
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            步骤

安装Node.js
添加国内镜像源
npm config set registry https://registry.npm.taobao.org
安装git
注册Github账号，并新建仓库xxx.github.io，其中xxx为你的Github用户名，随后在仓库Settings按钮点击后，往下拉可以看到Github Pages，点击链接后可以看到自己网页
安装Hexo
npm i......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-09-14
        </p>
        <div class="tags">
            
              <a href="/tags/#blog" title="blog">blog</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/git/">
        <h2 class="post-title">
                                 
            Git快速入门
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            git的工作示意图

工作区间：我们自己创建的工程文件，在编辑器可直观显示。
缓存区：提交代码，解决冲突的中转站，可以通过git shell窗口显示。
本地仓库：连接本地跟远程大妈的枢纽，在不联网的情况下可以将本地的代码提交到本地仓库；缓存区是能在git shell窗口显示。
远程仓库：保存我们代码的服务器，例如github，gitlab，可以登陆到服务器上看具体的信息。
正常提交代码的命令......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-08-27
        </p>
        <div class="tags">
            
              <a href="/tags/#Git" title="Git">Git</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/article/hello-world/">
        <h2 class="post-title">
                                 
            Hello World
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Qu......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by WeilunZhou on
            2019-06-23
        </p>
        <div class="tags">
            
        </div>
    

</div>
<hr>



<!-- Pager -->

<ul class="pager">
    
    
</ul>



                <br>

                <!-- require APlayer -->
                

                <!-- 如果开启评论功能 -->
                
            </div>

          <!-- Sidebar Container -->
<div class="
    col-lg-3 col-lg-offset-0
    col-md-3 col-md-offset-0
    col-sm-12
    col-xs-12
    sidebar-container
">
    
        <!-- Featured Tags -->

<section>
    <!-- no hr -->
    <h5><a href="/tags/">FEATURED TAGS</a></h5>
    <div class="tags">
        
            
            <a href="/tags/#IDEA" title="IDEA" rel="1">IDEA</a>
            
        
            
            <a href="/tags/#Docker" title="Docker" rel="1">Docker</a>
            
        
            
            <a href="/tags/#Linux" title="Linux" rel="2">Linux</a>
            
        
            
            <a href="/tags/#ansible" title="ansible" rel="1">ansible</a>
            
        
            
            <a href="/tags/#Prometheus" title="Prometheus" rel="1">Prometheus</a>
            
        
            
            <a href="/tags/#kafka" title="kafka" rel="1">kafka</a>
            
        
            
            <a href="/tags/#Git" title="Git" rel="1">Git</a>
            
        
            
            <a href="/tags/#blog" title="blog" rel="1">blog</a>
            
        
    </div>
</section>

        <hr>
    
        <!-- Short About -->
<section class="visible-md visible-lg">
    <h5><a href="/about/">ABOUT ME</a></h5>
    <div class="short-about">

        
            <img id = "avatar_pic" src="/img/avatar/ironman.png" />
        

        
            <p>Stay hungry,Stay foolish</p>
        

        <!-- SNS Link -->
        <ul class="list-inline">
            
            
            

            

            

            
                <li>
                    <a target="_blank"  href="https://github.com/WeilunZ">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                        </span>
                    </a>
                </li>
            
            
            
            
        </ul>
    </div>
</section>

        <hr>
    
        
  <h5>RECENT POSTS</h3>
  <div class="widget">
    <ul>
      
        <li>
          <a href="/article/kafka-problem/">记一次kafka故障</a>
        </li>
      
        <li>
          <a href="/article/Prometheus/">PromQL实现一些复杂函数功能</a>
        </li>
      
        <li>
          <a href="/article/systemd/">Systemd使用技巧</a>
        </li>
      
        <li>
          <a href="/article/Linux-websites/">一些有趣的Linux网站</a>
        </li>
      
        <li>
          <a href="/article/Docker_commands/">Docker命令快速入门</a>
        </li>
      
    </ul>
  </div>

        <hr>
    
        <!-- Friends Blog -->

<h5>FRIENDS</h5>
<ul class="list-inline">

    
</ul>

        <hr>
    
        
    <h5>ARCHIVES</h5>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">1</span></li></ul>
    </div>

        <hr>
    
</div>

        
    </div>
</div>


    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/WeilunZ">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; WeilunZhou 2020 
                    <br>
                    Theme by <a href="http://beantech.org">BeanTech</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    re-Ported by <a href="http://www.huweihuang.com">胡伟煌</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huweihuang&repo=hexo-theme-huweihuang&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://&lt;www class=&quot;WeilunZhou&quot;&gt;  &lt;/www&gt;.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = 'xxx';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>
<!-- Image to hack wechat -->
<img src="http://&lt;www class=&quot;WeilunZhou&quot;&gt;  &lt;/www&gt;.com/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>

{"title":"maven多镜像源配置","slug":"maven-multi-mirror-md","date":"2020-02-20T08:48:45.000Z","updated":"2020-02-22T03:44:33.820Z","comments":true,"path":"api/articles/maven-multi-mirror-md.json","photos":[],"link":"","excerpt":"","covers":null,"keywords":"","content":"<h3 id=\"场景\">场景：</h3>\n<ul>\n<li>大部分jar包可以在公司的maven mirror找到，但小部分jar包下不到</li>\n<li>需要一个主备关系的mirror，当部分jar在主镜像中找不到时，自动去副镜像找</li>\n</ul>\n<h3 id=\"方法\">方法：</h3>\n<blockquote>\n<p>参考：<a href=\"http://maven.apache.org/guides/mini/guide-mirror-settings.html\" target=\"_blank\" rel=\"noopener\">http://maven.apache.org/guides/mini/guide-mirror-settings.html</a></p>\n</blockquote>\n<p>1.找到settings.xml并打开</p>\n<blockquote>\n<p>macos : open  ~/.m2/settings.xml</p>\n</blockquote>\n<p>2.修改mirrors</p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"XML\"><figure class=\"iseeu highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mirrors</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>nexus-aliyun<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>nexus-aliyun<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">mirrorOf</span>&gt;</span>central<span class=\"tag\">&lt;/<span class=\"name\">mirrorOf</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\">\t\t  <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>nexus-corp<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">\t\t  <span class=\"tag\">&lt;<span class=\"name\">mirrorOf</span>&gt;</span>*<span class=\"tag\">&lt;/<span class=\"name\">mirrorOf</span>&gt;</span></span><br><span class=\"line\">\t\t  <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>public<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">\t\t  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span>公司的maven镜像地址<span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">mirror</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure></div>\n<p><code>注意</code>:</p>\n<ul>\n<li><code>mirrorOf</code>不能有多个mirror有相同的值，否则只会使用第一个mirror</li>\n</ul>\n","categories":[],"tags":[]}
{"name":"Docker","slug":"Docker","count":1,"posts":[{"title":"Docker命令快速入门","slug":"Docker_commands","date":"2019-10-05T04:00:00.000Z","updated":"2020-02-16T06:31:11.644Z","comments":true,"pin":null,"path":"api/articles/Docker_commands.json","excerpt":"","keywords":null,"cover":null,"content":"<h2 id=\"docker环境安装\">Docker环境安装</h2>\n<ul>\n<li>centos安装docker</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install docker</span><br></pre></td></tr></table></figure></div>\n<ul>\n<li>启动Docker</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start docker</span><br></pre></td></tr></table></figure></div>\n<h2 id=\"docker镜像常用命令\">Docker镜像常用命令</h2>\n<h4 id=\"下载镜像\">下载镜像</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull alpine:3.8</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"列出镜像\">列出镜像</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"BASH\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"删除镜像\">删除镜像</h4>\n<ul>\n<li>指定名称删除镜像</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi alpine:3.8</span><br></pre></td></tr></table></figure></div>\n<ul>\n<li>指定名称删除镜像（强制）</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi -f alpine:3.8</span><br></pre></td></tr></table></figure></div>\n<h2 id=\"docker容器常用命令\">Docker容器常用命令</h2>\n<h4 id=\"新建并启动容器以下命令启动一个bash终端允许用户进行交互\">新建并启动容器（以下命令启动一个bash终端，允许用户进行交互）</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -v（主机要共享的目录）:（容器上同步的目录）--name （指定数据卷容器的名称）-i -t xxxx:xxxx  /bin/bash</span><br></pre></td></tr></table></figure></div>\n<p>其中,<code>-i</code>让容器的标准输入保持打开，<code>-t</code>让Docker分配一个伪终端并绑定到容器的标准输入上，<code>--name</code>为容器指定一个名称。</p>\n<h4 id=\"启动容器2\">启动容器2</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -p 80:80 --name [指定容器名称] -d [镜像]</span><br></pre></td></tr></table></figure></div>\n<ul>\n<li>-d选项：表示后台运行</li>\n<li>-p选项：指定端口映射，本机80端口映射到容器80端口</li>\n</ul>\n<h4 id=\"列出容器\">列出容器</h4>\n<ul>\n<li>列出运行中的容器</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure></div>\n<ul>\n<li>列出所有容器</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps -a</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"停止容器\">停止容器</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># $ContainerName及$ContainerId可以用docker ps命令查询出来</span><br><span class=\"line\">docker stop $ContainerName(或者$ContainerId)</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"强制停止容器\">强制停止容器</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker kill $ContainerName(或者$ContainerId)</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"启动已停止的容器\">启动已停止的容器</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start $ContainerName(或者$ContainerId)</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"进入容器内部的bash\">进入容器内部的bash</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker exec -it $ContainerName /bin/bash</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"删除容器\">删除容器</h4>\n<ul>\n<li>删除指定容器</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rm $ContainerName(或者$ContainerId)</span><br></pre></td></tr></table></figure></div>\n<ul>\n<li>强制删除所有容器</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rm -f $(docker ps -a -q)</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"查看容器的日志\">查看容器的日志</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker logs $ContainerName(或者$ContainerId)</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"查看容器的ip地址\">查看容器的ip地址</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker inspect --format &apos;&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;&apos; $ContainerName(或者$ContainerId)</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"同步宿主机时间到容器\">同步宿主机时间到容器</h4>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker cp /etc/localtime $ContainerName(或者$ContainerId):/etc/</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"在宿主机查看docker使用cpu-内存-网络-io情况\">在宿主机查看docker使用cpu、内存、网络、io情况</h4>\n<ul>\n<li>查看指定容器情况：</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stats $ContainerName(或者$ContainerId)</span><br></pre></td></tr></table></figure></div>\n<ul>\n<li>查看所有容器情况：</li>\n</ul>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stats -a</span><br></pre></td></tr></table></figure></div>\n","text":"Docker环境安装centos安装docker1<br>yum install docker<br>启动Docker1<br>systemctl start docker<br>Docker镜像常用命令下载镜像1<br>docker pull alpine:3.8<br>列出镜","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"Docker","slug":"Docker","count":1,"path":"api/tags/Docker.json"}]}]}